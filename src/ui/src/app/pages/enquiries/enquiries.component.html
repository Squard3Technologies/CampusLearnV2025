<div class="page-wrapper">

  <!-- Header Title -->
  <div class="page-header">
    <h1>My Inquiries for Module Code</h1>
    <button class="action-btn top-right" (click)="openModal()">+ Create Enquiry</button>
  </div>

  <!-- Breadcrumbs -->
  <div class="breadcrumbs">
    <span>Modules / Module 1</span>
  </div>

  <!-- Search Bar -->
  <div class="search-bar">
    <input type="text" placeholder="Search" />
    <span class="search-icon">üîç</span>
  </div>

  <!-- Table -->
  <table class="enquiry-table">
    <tbody>
  <tr *ngFor="let inquiry of inquiries">
    <td>{{inquiry.id}}</td>
    <td>{{inquiry.title}}</td>
    <td>{{inquiry.dateCreated}}</td>
    <td>{{inquiry.status}}</td>
    <td>
      <button (click)="openViewModal(inquiry)">View</button>
    </td>
  </tr>
</tbody>

  </table>

  <!-- Pagination -->
  <div class="pagination">
    <span class="bubble">Previous</span>
    <span class="bubble">1</span>
    <span class="bubble">2</span>
    <span class="bubble">3</span>
    <span class="bubble">Next</span>
  </div>

  <!-- Back Button -->
  <div class="bottom-btn">
    <button class="action-btn" [routerLink]="['/modules']">Back to My Modules</button>
  </div>

  <!-- Modal New enquiry-->
  <ng-container *ngIf="showModal">
    <div class="modal-backdrop">
      <div class="modal-content">
        <h2>New Enquiry for Module Name</h2>

        <label for="title">Title</label>
        <input type="text" id="title" [(ngModel)]="enquiryTitle" placeholder="Enter enquiry title">

        <label for="description">Description</label>
        <textarea id="description" rows="5" [(ngModel)]="enquiryDescription" placeholder="Enter enquiry details"></textarea>

        <div class="modal-buttons">
          <button class="cancel-btn" (click)="closeModal()">Cancel</button>
          <button class="submit-btn" (click)="submitEnquiry()">Submit</button>
        </div>
      </div>
    </div>
  </ng-container>

  <!-- View Enquiry Modal -->
   <ng-container>
<div class="modal" *ngIf="isViewModalOpen">
  <div class="modal-content">
    <h2 class="modal-title">View Enquiry</h2>

    <label for="view-title">Title</label>
    <input id="view-title" type="text" [(ngModel)]="selectedEnquiry.title" >

    <label for="view-description">Description</label>
    <textarea id="view-description" rows="3" [(ngModel)]="selectedEnquiry.description" ></textarea>

    <label for="view-description">Resolution Action</label>
    <select id="resolution-action" [(ngModel)]="selectedEnquiry.resolutionAction">
      <option value="New Topic">New Topic</option>
      <option value="Link To Existing Topic">Link To Existing Topic</option>
      <option value="No Action Required">No Action Required</option>
    </select>


    <label for="linked-topic">Linked Topic</label>
    <input id="linked-topic" type="text" [(ngModel)]="selectedEnquiry.linkedTopic" >

    <label for="resolution-response">Resolution Response</label>
    <textarea id="resolution-response" rows="4" [(ngModel)]="selectedEnquiry.resolutionResponse" ></textarea>

    <button (click)="closeViewModal()">Back</button>
  </div>
</div>
</ng-container>

</div>
