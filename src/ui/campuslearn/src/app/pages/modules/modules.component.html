<div class="modules-container">
  <div class="heading">
    <h1>Course Modules</h1>
    <p>Browse available modules or access your enrolled courses</p>
  </div>

  <!-- Loading spinner -->
  <div class="loading-spinner" *ngIf="isLoading">
    <div class="spinner"></div>
  </div>

  <!-- My Enrolled Modules Section -->
  <div *ngIf="!isLoading && userModules.length > 0">
    <h2 class="section-title">My Enrolled Modules</h2>
    <div class="module-grid">
      <div class="module-card" *ngFor="let module of userModules" [routerLink]="['/modules', module.id]">
        <div class="module-header">
          <h3>{{ module.name }}</h3>
          <div class="module-code">{{ module.code }}</div>
        </div>
        <div class="module-body">
          <button class="btn-primary">Continue Learning</button>
        </div>
      </div>
    </div>
  </div>

  <!-- All Available Modules Section -->
  <div *ngIf="!isLoading">
    <h2 class="section-title">All Available Modules</h2>
    <div class="module-grid">
      <div class="module-card" *ngFor="let module of modules" [routerLink]="['/modules', module.id]">
        <div class="module-header">
          <h3>{{ module.name }}</h3>
          <div class="module-code">{{ module.code }}</div>
        </div>
        <div class="module-body">
          <button class="btn-primary">View Details</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Admin Controls -->
  <div class="admin-controls" *ngIf="isAdmin">
    <h2 class="section-title">Administration</h2>
    <button class="btn-add" [routerLink]="['/modules/new']">
      <span>Add New Module</span>
    </button>
  </div>
</div>
